<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Modal</title>

    <link rel="stylesheet" href="/css/styles.css" />
  </head>
  <body>
    <button class="delete-button" data-user-id="<%= userId %>">Excluir</button>

   
    <div class="modal" id="myModal">
      
      <div class="modal-content">
        <span class="close" id="modalClose">&times;</span>
        <p>Tem certeza de que deseja excluir este item?</p>
        <button id="confirmDelete">Sim</button>
        <button id="cancelDelete">NÃ£o</button>
      </div>
    </div>

    <script>
      var modal = document.getElementById("myModal");
      var modalClose = document.getElementById("modalClose");
      var confirmDelete = document.getElementById("confirmDelete");
      var cancelDelete = document.getElementById("cancelDelete");

      var userId = null; 

      function handleDeleteClick(event) {
        userId = event.target.getAttribute("data-user-id");
        modal.style.display = "block";
      }

      confirmDelete.onclick = function () {
        if (userId) {
          window.location.href = "/delete-users/" + userId;

          userId = null;
        }
      };

      cancelDelete.onclick = function () {
        modal.style.display = "none";
      };

      var modalButtons = document.getElementsByClassName("delete-button");
      for (var i = 0; i < modalButtons.length; i++) {
        modalButtons[i].addEventListener("click", handleDeleteClick);
      }

      modalClose.onclick = function () {
        modal.style.display = "none";
      };

      window.onclick = function (event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
      };
    </script>
  </body>
</html>
